name: Build
on: [push, pull_request]
jobs:
  build:
    name: Build
    runs-on: ubuntu-20.04
    timeout-minutes: 30
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          persist-credentials: false
      - name: Install dependencies
        run: |
          sudo apt update || true
          sudo apt --yes --no-install-recommends install texlive texlive-fonts-extra texlive-lang-german texlive-latex-extra latexmk
      - name: Build report
        run: |
          cd report
          latexmk -pdf report.tex
      - name: Upload report
        uses: actions/upload-artifact@v2
        with:
          name: report
          path: report/report.pdf
